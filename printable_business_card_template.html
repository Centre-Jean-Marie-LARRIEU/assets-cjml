<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte de Visite - {{user_full_name}}</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Styles pour l'impression (CMJN simulé, haute résolution, fonds perdus) */
        /* IMPORTANT : Les dimensions ici sont pour un fichier à imprimer, incluant les fonds perdus si l'imprimeur les demande */
        @page {
            size: 90mm 55mm; /* Format carte de visite standard (90x55mm avec fonds perdus). Vérifiez avec votre imprimeur. */
            margin: 0; /* Pas de marges par défaut de l'imprimante */
        }
        body {
            width: 90mm;
            height: 55mm;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif; /* Assurez-vous que la police est bien embarquée ou une police système équivalente */
            color: #333333; /* Couleur de texte sombre */
            background-color: white; /* Fond blanc pour l'impression */
            overflow: hidden; /* Empêche les barres de défilement */
            position: relative;
        }

        .card-container {
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            padding: 5mm; /* Marge intérieure de sécurité (5mm du bord de la carte finie) */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Pour espacer le haut et le bas */
            align-items: flex-start; /* Alignement par défaut à gauche */
        }

        .header-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center; /* Centrer le logo et le nom */
            margin-bottom: 5mm; /* Espace sous le titre */
        }
        .logo {
            max-width: 60mm; /* Taille du logo pour l'impression (ex: 6cm de large) */
            height: auto;
            margin-bottom: 3mm; /* Espace sous le logo */
            display: block;
        }
        h1 {
            color: #068FD0; /* Bleu primaire */
            margin: 0;
            font-size: 14pt; /* Taille de police pour l'impression */
            font-weight: 700;
            text-align: center;
        }
        .title {
            color: #FCB041; /* Orange accent */
            margin-top: 1mm;
            font-size: 9pt;
            font-weight: 500;
            text-align: center;
        }

        .contact-section {
            width: 100%;
            font-size: 8pt; /* Taille de police pour l'impression */
            line-height: 1.3;
            margin-top: auto; /* Pousse cette section vers le bas si le contenu du header est court */
            flex-grow: 1; /* Permet à cette section de prendre l'espace disponible */
            display: flex;
            flex-direction: column;
            justify-content: flex-end; /* Aligne le contenu en bas de la section contact */
        }
        .contact-item {
            margin-bottom: 1mm; /* Petit espacement entre les lignes de contact */
            text-align: left;
        }
        .contact-item:last-child {
            margin-bottom: 0;
        }
        .contact-item .label {
            font-weight: 700;
            color: #068FD0; /* Bleu primaire */
            display: inline; /* Rendre le label en ligne pour qu'il soit suivi par le contenu */
            margin-right: 1mm; /* Petit espace entre label et contenu */
        }
        .contact-item a {
            color: #333333; /* Couleur de texte normale */
            text-decoration: none; /* Pas de soulignement par défaut */
        }

        .qr-code-section {
            width: 100%;
            display: flex;
            justify-content: flex-end; /* Aligner à droite */
            align-items: center; /* Centrer verticalement */
            margin-top: 3mm; /* Marge au-dessus du QR code */
        }
        .qr-code-print {
            width: 25mm; /* Taille physique pour l'impression (ex: 2.5cm) */
            height: 25mm;
            border: 1mm solid #068FD0; /* Bordure bleue pour le QR code */
            box-sizing: border-box; /* Inclure la bordure dans la taille */
            display: block;
        }
        .qr-code-text-print {
            font-size: 7pt;
            color: #555555;
            margin-right: 2mm; /* Espace entre texte et QR code */
            text-align: right;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <div class="card-container">
        <div class="header-section">
            <img src="{{digital_card_logo_url_for_print}}" alt="Logo" class="logo">
            <h1>{{user_full_name}}</h1>
            <p class="title">{{user_title}}</p>
        </div>

        <div class="contact-section">
            <p class="contact-item"><span class="label">Ligne directe :</span> {{phone_work_display}}</p>
            <p class="contact-item"><span class="label">Mobile :</span> {{phone_mobile_display}}</p>
            <p class="contact-item"><span class="label">Email :</span> <a href="mailto:{{primary_email_raw}}">{{primary_email_raw}}</a></p>
            <p class="contact-item"><span class="label">{{address_label}} :</span> {{address_text_print}}</p>
            <p class="contact-item"><span class="label">Site Web :</span> <a href="{{website_url}}">{{website_display_url}}</a></p>
        </div>

        <div class="qr-code-section">
            <span class="qr-code-text-print">Scannez<br>ma carte</span>
            <img src="{{qrcode_print_url}}" alt="QR Code" class="qr-code-print">
        </div>
    </div>
</body>
</html>